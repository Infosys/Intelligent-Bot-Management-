<app-loader *ngIf="isLoader"></app-loader>
<div class="container-fluid box-size" style="background-color: white;  ">
    <div style="background-color: white;">
        <div class="form-group">
            <label class="semi-bold" style="margin-top:5px">Auto Configuration</label>
            <!-- <button *ngIf="isUpdatePage" class="add-btn" style="float: right;margin-top: 10px;font-size: 13px;
        margin-right: 10px;"
                (click)="changePageType()">+ Create New</button> -->

        </div>
    </div>
    <form #DiscoveryForm="ngForm" (ngSubmit)="onDiscover(DiscoveryForm.form)">





        <div class="row section-white">
            <label class="semi-bold">Platform Details</label>
            <div class="col-12">
                <div class="form-group float-left">
                    <label for="name">Platform Type</label>
                    <select required class="form-control"   (change)="onChangePlatform($event.target.value)" name="Platformtype" [(ngModel)]="des.Platformtype">

                        <option value="Automation Anywhere Enterprise">Automation Anywhere Enterprise-11.3.2.0</option>
                        <option value="UiPath">UiPath - Community Cloud</option>
                        <option value="UiPath on-Premise">UiPath on-Premise</option>
                    </select>
                </div>
                <div class="form-group float-left"  *ngFor="let label  of platformJson.labels ">
                    <label for="name"> {{label.name}}</label>

                    <input  required class="form-control" name="{{label.name}}" [(ngModel)]="label.value"
                        type="text">
                </div>

                

            </div>
        </div>

        <div class="row section-part"    *ngFor="let section  of platformJson.sections ">
                <label class="semi-bold">{{section.name}}</label>
                <div class="col-12"  >
                    <div class="form-group float-left"  *ngFor="let label  of section.labels ">
                            <label for="name"> {{label.name}}</label>

                            <input  *ngIf="label.type ==  'text'"  required class="form-control" name="{{label.name}}" [(ngModel)]="label.value"
                                type="text">
                                <input  *ngIf="label.type ==  'password'"  required class="form-control" name="{{label.name}}" [(ngModel)]="label.value"
                                type="password">
                                <select *ngIf="label.type ==  'dropdown'" required class="form-control"  name="{{label.name}}" [(ngModel)]="label.value">
                                        <option></option>
                                        <option    value="{{data.value}}" *ngFor="let  data of label.values">{{data.name}}</option>
                                        
                                    </select>
                    </div>

                    </div>
        </div>

        <!-- <div class="row section-part">
            <label class="semi-bold">Control Tower Details</label>
            <div class="col-12">
                <div class="form-group float-left">
                    <label for="name">Control Tower URL</label>
                    <input required class="form-control" type="text" name="API_URL" [(ngModel)]="des.API_URL">
                </div>
                <div class="form-group float-left">
                    <label for="name"> Control Tower User Name</label>

                    <input required class="form-control" name="API_UserName" [(ngModel)]="des.API_UserName" type="text">
                </div>
                <div class="form-group float-left">
                    <label for="name"> Control Tower Password</label>

                    <input required class="form-control" name="API_Password" [(ngModel)]="des.API_Password" type="password">
                </div>


            </div>
        </div>
        <div class="row section-white">
            <div class="col-12">
                <div class="form-group float-left">
                    <label for="name"> IP Address</label>
                    <input required class="form-control" type="text" name="IPAddress" [(ngModel)]="des.IPAddress">
                </div>
                <div class="form-group float-left">
                    <label for="name"> Service User Name</label>

                    <input required class="form-control" name="Service_UserName" [(ngModel)]="des.Service_UserName"
                        type="text">
                </div>
                <div class="form-group float-left">
                    <label for="name"> Service Password</label>

                    <input required class="form-control" name="Service_Password" [(ngModel)]="des.Service_Password"
                        type="password">
                </div>


            </div>



        </div>

        <div class="row section-part">
            <label class="semi-bold">Database Details</label>
            <div class="col-12">
                <div class="form-group float-left">
                    <label for="name">Database Type</label>
                    <select required class="form-control" name="Database_Type" [(ngModel)]="des.Database_Type">
                        <option></option>
                        <option value="Oracle">Oracle</option>
                        <option value="SQL Server">SQL Server</option>
                    </select>
                </div>
                <div class="form-group float-left">
                    <label for="name"> Database Host Name</label>

                    <input required class="form-control" name="Database_HostName" [(ngModel)]="des.Database_HostName"
                        type="text">
                </div>

                <div class="form-group float-left">
                    <label for="name"> Database IP Address</label>

                    <input required class="form-control" name="Database_IPaddress" [(ngModel)]="des.Database_IPaddress"
                        type="text">
                </div>


            </div>
        </div>
        <div class="row section-white">
            <div class="col-12">
                <div class="form-group float-left">
                    <label for="name">Database Name</label>
                    <input required class="form-control" type="text" name="Database_Name" [(ngModel)]="des.Database_Name">
                </div>
                <div class="form-group float-left">
                    <label for="name"> Database User Name</label>

                    <input required class="form-control" name="Database_UserName" [(ngModel)]="des.Database_UserName"
                        type="text">
                </div>
                <div class="form-group float-left">
                    <label for="name">Database Password</label>
                    <input required class="form-control" type="password" name="Database_Password" [(ngModel)]="des.Database_Password">
                </div>
            </div>
        </div>-->
        <div class="row"> 
            <div class="col-12">
                <div class="form-group float-right" style="   margin-top:-10px">

                    <!-- <button class="update-btn float-right" (click)="changePageType()" style="margin-left: 10px;" style="margin-bottom: 70px;">Cancel
                     </button>  [disabled]="!DiscoveryForm.valid" -->
                    <button class="btn-border float-right" type="submit" style="margin-left: 10px;">Discover
                    </button>
                    <button class="update-btn float-right" (click)="onReset()" style="margin-left: 10px;">Reset
                    </button>

                </div>

            </div>
        </div>

    </form>
</div>